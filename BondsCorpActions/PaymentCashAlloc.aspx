<%@ Page Language="VB" MasterPageFile="~/CDSUser.master" AutoEventWireup="false" CodeFile="PaymentCashAlloc.aspx.vb" Inherits="Corp_MMPaymentAllocation" title="Payment Allocation" %><%@ Register Assembly="DevExpress.Web.v13.2, Version=13.2.5.0, Culture=neutral, PublicKeyToken=b88d1754d700e49a" Namespace="DevExpress.Web.ASPxGridView" TagPrefix="dx" %><%@ Register Assembly="DevExpress.Web.v13.2, Version=13.2.5.0, Culture=neutral, PublicKeyToken=b88d1754d700e49a" Namespace="DevExpress.Web.ASPxEditors" TagPrefix="dx" %><asp:Content id="Content1" ContentPlaceHolderID="ContentPlaceHolder1" Runat="Server">    <asp:Panel id="pnlfirst" runat="server" Width="90%" GroupingText="Un-Allocated Funds" Font-Names="Cambria">        <table class="dxflInternalEditorTable_BlackGlass">            <tr>                <td style="width: 208px">                    <dx:ASPxLabel ID="ASPxLabel3" runat="server" Font-Names="Cambria" Font-Size="Small" Text="Select Asset Manager" Theme="Glass">                    </dx:ASPxLabel>                </td>                <td>                    <dx:ASPxComboBox ID="cmbassetmanager" runat="server" Theme="Glass" Width="250px"  EnableCallbackMode="True" DropDownStyle="DropDownList"  IncrementalFilteringMode="Contains"  AnimationType="Slide" AutoPostBack="True">                                                  </dx:ASPxComboBox>                </td>            </tr>            <tr>                <td>&nbsp;</td>                <td>                    <dx:ASPxGridView ID="ASPxGridView5" runat="server" KeyFieldName="id" Settings-ShowTitlePanel="true" SettingsBehavior-AllowDragDrop="true" Theme="Glass" Width="100%">                        <SettingsBehavior AllowSelectByRowClick="True" AllowSelectSingleRowOnly="True" ProcessSelectionChangedOnServer="True" />                        <SettingsPager PageSizeItemSettings-ShowAllItem="true" Visible="True">                        </SettingsPager>                        <SettingsPopup>                            <EditForm AllowResize="True" Modal="True" />                        </SettingsPopup>                        <SettingsCommandButton>                            <SelectButton Text="Select">                            </SelectButton>                        </SettingsCommandButton>                        <Columns>                            <dx:GridViewDataColumn Caption="" VisibleIndex="0">                                <DataItemTemplate>                                    <asp:LinkButton ID="ActionID" runat="server" CommandArgument='<%# Eval("ID") %>' CommandName="Select" Text="Select">                                                              </asp:LinkButton>                                </DataItemTemplate>                            </dx:GridViewDataColumn>                            <dx:GridViewDataColumn Caption="Asset Manager" FieldName="AssetManager" />                            <dx:GridViewDataColumn Caption="Bank Name" FieldName="BankName"  />                            <dx:GridViewDataColumn Caption="Account No" FieldName="BankAccount" />                            <dx:GridViewDataColumn Caption="Reference" FieldName="Reference" />                            <dx:GridViewDataColumn Caption="Details" FieldName="Other_Details" />                            <dx:GridViewDataColumn Caption="Date Received" FieldName="DateCreated"/>                            <dx:GridViewDataColumn Caption="Received Via" FieldName="ReceivedVia" />                            <dx:GridViewDataColumn Caption="Amount" FieldName="Amount" />                        </Columns>                    </dx:ASPxGridView>                </td>                <td>&nbsp;</td>                <td>&nbsp;</td>            </tr>             <tr>                <td style="width: 208px">                    <dx:ASPxLabel ID="ASPxLabel6" runat="server" Font-Names="Cambria" Font-Size="Small" Text="Select Instruction Asset Manager" Theme="Glass">                    </dx:ASPxLabel>                </td>                <td>                    <dx:ASPxComboBox ID="cmbDividendAssetManager" runat="server" Theme="Glass" Width="250px"  EnableCallbackMode="True" DropDownStyle="DropDownList"  IncrementalFilteringMode="Contains"  AnimationType="Slide" AutoPostBack="True">                                                   </dx:ASPxComboBox>                </td>            </tr>            <tr>                <td style="height: 27px"></td>                <td style="height: 27px">                    <asp:Label ID="lblselected" runat="server" Visible="False"></asp:Label>                </td>                <td style="height: 27px"></td>                <td style="height: 27px"></td>            </tr>        </table>        </asp:Panel>    <asp:Panel runat="server" Width="90%" ID="Panel4" Font-Names="Cambria" GroupingText="Transaction Details" Font-Size="Medium">                <table>                    <tr>                        <td style="width: 208px">                            <dx:ASPxLabel ID="ASPxLabel13" runat="server" Font-Names="Cambria" Font-Size="Small" Text="Bank Name" Theme="Glass">                            </dx:ASPxLabel>                        </td>                        <td  style="width: 212px">                            <dx:ASPxTextBox ID="txtbankname" runat="server" ReadOnly="True" Theme="BlackGlass" Width="250px">                            </dx:ASPxTextBox>                        </td>                        <td  style="width: 208px">                            <dx:ASPxLabel ID="ASPxLabel14" runat="server" Font-Names="Cambria" Font-Size="Small" Text="Bank Account" Theme="Glass">                            </dx:ASPxLabel>                        </td>                        <td  style="width: 212px">                            <dx:ASPxTextBox ID="txtaccountno" runat="server" ReadOnly="True" Theme="BlackGlass" Width="250px">                            </dx:ASPxTextBox>                        </td>                    </tr>                    <tr>                        <td style="width: 208px">                            <dx:ASPxLabel ID="ASPxLabel9" runat="server" Font-Names="Cambria" Font-Size="Small" Text="Deposit Amount" Theme="Glass">                            </dx:ASPxLabel>                        </td>                        <td style="width: 212px">                            <dx:ASPxTextBox ID="txtAmount" runat="server" Theme="BlackGlass" Width="250px">                            </dx:ASPxTextBox>                        </td>                        <td style="width: 208px">                            <dx:ASPxLabel ID="ASPxLabel11" runat="server" Font-Names="Cambria" Font-Size="Small" Text="Description" Theme="Glass">                            </dx:ASPxLabel>                        </td>                        <td style="width: 212px">                            <dx:ASPxTextBox ID="txtdesc" ReadOnly="true" runat="server" Theme="BlackGlass" Width="250px">                            </dx:ASPxTextBox>                        </td>                    </tr>                    <tr>                        <td style="width: 208px">                            <dx:ASPxLabel ID="ASPxLabel4" runat="server" Font-Names="Cambria" Font-Size="Small" Text="Currency" Theme="Glass">                            </dx:ASPxLabel>                        </td>                        <td style="width: 212px">                            <dx:ASPxTextBox ID="txtcurrency2" runat="server" ReadOnly="True" Theme="BlackGlass" Width="250px">                            </dx:ASPxTextBox>                        </td>                        <td style="width: 208px">                            <dx:ASPxLabel ID="ASPxLabel41" runat="server" Font-Names="Cambria" Font-Size="Small" Text="Avalibale Amount" Theme="Glass">                            </dx:ASPxLabel>                        </td>                        <td style="width: 212px">                            <dx:ASPxTextBox ID="lblCashBal" runat="server" Enabled ="false" ReadOnly="True" Theme="BlackGlass" Width="250px">                            </dx:ASPxTextBox>                        </td>                    </tr>        </table>        </asp:Panel>    <asp:Panel id="Panel1" runat="server" Width="90%" Font-Names="Cambria" BackColor="White" GroupingText="Select Instruction No.">       <table>           <tr id="Tr1" runat="server">                <td colspan="6">                    <dx:ASPxLabel ID="ASPxLabel1" runat="server" Font-Names="Cambria" Font-Size="Small" Text="" Theme="Glass">                    </dx:ASPxLabel>                   <hr/>                </td>            </tr>           <tr id="Panel13a" runat="server">                <td style="width: 208px">                    <dx:ASPxLabel ID="ASPxLabel30" runat="server" Font-Names="Cambria" Font-Size="Small" Text="Company" Theme="Glass">                    </dx:ASPxLabel>                </td>                    <td style="width: 212px">                       <dx:ASPxComboBox ID="cmbCompany" runat="server" Theme="Glass" Width="250px"  CallbackPageSize="15" EnableCallbackMode="True" DropDownStyle="DropDownList"  IncrementalFilteringMode="Contains"  AnimationType="Slide" AutoPostBack="True">                            <Items>                                <dx:ListEditItem Text="" Value="" />                             </Items>                        </dx:ASPxComboBox>                    </td>                    <td style="width: 208px">                        <dx:ASPxLabel ID="ASPxLabel72d" runat="server" Font-Names="Cambria" Font-Size="Small" Text="Instruction No." Theme="Glass">                        </dx:ASPxLabel>                    </td>                    <td style="width: 212px">                        <dx:ASPxComboBox ID="cmbDivNo" runat="server" Theme="Glass" Width="250px"  CallbackPageSize="15" EnableCallbackMode="True" DropDownStyle="DropDownList"  IncrementalFilteringMode="Contains"  AnimationType="Slide" AutoPostBack="True">                            <Items>                                <dx:ListEditItem Text="" Value="" />                             </Items>                        </dx:ASPxComboBox>                    </td>           </tr>            <tr id="Panel8e" runat="server">                    <td style="width: 208px">                        <dx:ASPxLabel ID="ASPxLabel5" runat="server" Font-Names="Cambria" Font-Size="Small" Text="Instruction Type" Theme="Glass">                        </dx:ASPxLabel>                    </td>                    <td style="width: 212px">                        <dx:ASPxTextBox ID="txtDividendType" runat="server" ReadOnly="true" BackColor="White" Theme="Glass" Width="250px">                        </dx:ASPxTextBox>                    </td>                    <td style="width: 208px">                        <dx:ASPxLabel ID="ASPxLabel24" runat="server" Font-Names="Cambria" Font-Size="Small" Text="Tax Rate" Theme="Glass">                        </dx:ASPxLabel>                    </td>                    <td style="width: 212px">                        <dx:ASPxTextBox ID="txtTaxRate" ReadOnly="true" runat="server" BackColor="White" Theme="Glass" Width="250px">                        </dx:ASPxTextBox>                    </td>                </tr>           <tr id="Panel8b" runat="server">                    <td style="width: 208px">                        <dx:ASPxLabel ID="ASPxLabel29" runat="server" Font-Names="Cambria" Font-Size="Small" Text="Date Announced" Theme="Glass">                        </dx:ASPxLabel>                    </td>                    <td style="width: 212px">                        <dx:ASPxTextBox ID="txtDateCreated" runat="server" ReadOnly="true" BackColor="White" Theme="Glass" Width="250px">                        </dx:ASPxTextBox>                    </td>                    <td style="width: 208px">                        <dx:ASPxLabel ID="ASPxLabel7" runat="server" Font-Names="Cambria" Font-Size="Small" Text="Record Date (LDR)" Theme="Glass">                        </dx:ASPxLabel>                    </td>                    <td style="width: 212px">                        <dx:ASPxTextBox ID="txtDateClose" runat="server" ReadOnly="true" BackColor="White" Theme="Glass" Width="250px">                        </dx:ASPxTextBox>                    </td>                </tr>           <tr id="Tr8" runat="server">                    <td style="width: 208px">                        <dx:ASPxLabel ID="ASPxLabel15" runat="server" Font-Names="Cambria" Font-Size="Small" Text="Payment Date" Theme="Glass">                        </dx:ASPxLabel>                    </td>                    <td style="width: 212px">                        <dx:ASPxTextBox ID="txtPaymentdate" runat="server" ReadOnly="true" BackColor="White" Theme="Glass" Width="250px">                        </dx:ASPxTextBox>                    </td>                    <td style="width: 208px">                        <dx:ASPxLabel ID="ASPxLabel17" runat="server" Font-Names="Cambria" Font-Size="Small" Text="Year Ended/Ending" Theme="Glass">                        </dx:ASPxLabel>                    </td>                    <td style="width: 212px">                        <dx:ASPxTextBox ID="txtYearEnding" runat="server" ReadOnly="true" BackColor="White" Theme="Glass" Width="250px">                        </dx:ASPxTextBox>                    </td>                </tr>           <tr id="Tr2" runat="server">                    <td style="width: 208px">                        <dx:ASPxLabel ID="ASPxLabel12" runat="server" Font-Names="Cambria" Font-Size="Small" Text="Round" Theme="Glass">                        </dx:ASPxLabel>                    </td>                    <td style="width: 212px">                    <dx:ASPxTextBox ID="txtRound" ReadOnly="true" runat="server" BackColor="White" Theme="Glass" Width="250px">                        </dx:ASPxTextBox>                    </td>                <td style="width: 208px">                    <dx:ASPxLabel ID="ASPxLabel36" runat="server" Font-Names="Cambria" Font-Size="Small" Text="Currency" Theme="Glass">                    </dx:ASPxLabel>                </td>                <td style="width: 212px">                <dx:ASPxTextBox ID="txtCurrency" ReadOnly="true" runat="server" BackColor="White" Theme="Glass" Width="250px">                    </dx:ASPxTextBox>                </td>                </tr>           <tr id="Tr12" runat="server">                <td style="width: 208px">                  <asp:CheckBox ID="chkSelectAll" runat="server" Text="Select All" Font-Size="Small" Font-Names="Cambria" AutoPostBack ="true"/>                </td>                <td style="width: 212px">                    <dx:ASPxButton ID="btnCalc" runat="server" Text="Calc Total >>" Theme="Glass">                            </dx:ASPxButton>                </td>                <td colspan="2">                    <dx:ASPxLabel ID="lblTotalCashSelected" runat="server" Font-Names="Cambria" Font-Size="Small" Font-Bold="true" Text="" Theme="Glass">                    </dx:ASPxLabel>                </td>           </tr>           <tr id="Tr11a" runat="server">                <td colspan="6">                    <dx:ASPxGridView ID="grdPaymentsCash" Width="100%" runat="server" KeyFieldName="SEQ" Settings-ShowTitlePanel="true" Theme="Glass" Visible="false">                            <SettingsBehavior AllowSelectByRowClick="False" AllowSelectSingleRowOnly="False" ProcessSelectionChangedOnServer="False" />                            <SettingsPager PageSizeItemSettings-ShowAllItem="False" Visible="False">                            </SettingsPager>                            <SettingsPopup>                                <EditForm AllowResize="True" Modal="True" />                            </SettingsPopup>                            <SettingsCommandButton>                                <SelectButton Text="Select">                                </SelectButton>                            </SettingsCommandButton>                            <Settings ShowFilterRow="true"/>                            <Columns>                                  <dx:GridViewDataColumn Caption="Select" FieldName="Selec"  VisibleIndex="0">                                    <DataItemTemplate>                                        <dx:aspxcheckbox ID="chk1" runat="server" >                                                              </dx:aspxcheckbox>                                    </DataItemTemplate>                                </dx:GridViewDataColumn>                                <dx:GridViewDataColumn FieldName="shareholder" Caption="Holder No." Settings-AutoFilterCondition="Contains">                                    <DataItemTemplate>                                        <dx:ASPxLabel ID="lblshareholder" runat="server" Text='<%# Eval("shareholder") %>'>                                        </dx:ASPxLabel>                                    </DataItemTemplate>                                </dx:GridViewDataColumn>                                <dx:GridViewDataColumn Caption="Names" FieldName="holder" Settings-AutoFilterCondition="Contains">                                    <DataItemTemplate>                                        <dx:ASPxLabel runat="server" Text='<%# Eval("Holder") %>'>                                        </dx:ASPxLabel>                                    </DataItemTemplate>                                </dx:GridViewDataColumn>                                <dx:GridViewDataColumn FieldName="AssetManager" Caption="Asset Manager" Settings-AutoFilterCondition="Contains">                                    <DataItemTemplate>                                        <dx:ASPxLabel ID="lblAssetManager" runat="server" Text='<%# Eval("AssetManager") %>'>                                        </dx:ASPxLabel>                                    </DataItemTemplate>                                </dx:GridViewDataColumn>                                <dx:GridViewDataColumn Caption="Face Value">                                    <DataItemTemplate>                                        <dx:ASPxLabel runat="server" Text='<%# Eval("Shares_held") %>'>                                        </dx:ASPxLabel>                                    </DataItemTemplate>                                </dx:GridViewDataColumn>                                <dx:GridViewDataColumn Caption="Gross">                                    <DataItemTemplate>                                        <dx:ASPxLabel runat="server" Text='<%# Eval("actual_gross") %>'>                                        </dx:ASPxLabel>                                    </DataItemTemplate>                                </dx:GridViewDataColumn>                                <dx:GridViewDataColumn Caption="Tax">                                    <DataItemTemplate>                                        <dx:ASPxLabel runat="server" Text='<%# Eval("actual_tax") %>'>                                        </dx:ASPxLabel>                                    </DataItemTemplate>                                </dx:GridViewDataColumn>                                <dx:GridViewDataColumn Caption="Net Amount">                                    <DataItemTemplate>                                        <dx:ASPxLabel runat="server" Text='<%# Eval("actual_nett") %>'>                                        </dx:ASPxLabel>                                    </DataItemTemplate>                                </dx:GridViewDataColumn>                                <dx:GridViewDataColumn FieldName="RemainingAmountc" Caption="Remaining Amount">                                    <DataItemTemplate>                                        <dx:ASPxLabel ID="lblRemainingAmount" runat="server" Text='<%# Eval("RemainingAmount") %>'>                                        </dx:ASPxLabel>                                    </DataItemTemplate>                                </dx:GridViewDataColumn>                                <dx:GridViewDataColumn FieldName="AmountToPayc" Caption="Amount to Pay">                                    <DataItemTemplate>                                        <dx:ASPxTextBox ID="txtAmountToPay" Width="100px" Text='<%# Eval("RemainingAmount") %>' runat="server" BackColor="White" Theme="Glass">                                            </dx:ASPxTextBox>                                    </DataItemTemplate>                                </dx:GridViewDataColumn>                                <dx:GridViewDataColumn FieldName="AmountWriteoffc" Caption="Write-off">                                    <DataItemTemplate>                                        <dx:ASPxTextBox ID="txtAmountWriteoff" Width="100px" Text="0" runat="server" BackColor="White" Theme="Glass">                                            </dx:ASPxTextBox>                                    </DataItemTemplate>                                </dx:GridViewDataColumn>                            </Columns>                        </dx:ASPxGridView>                </td>            </tr>           <tr id="Tr11" runat="server">                <td colspan="6">                    <dx:ASPxLabel ID="ASPxLabel26" runat="server" Font-Names="Cambria" Font-Size="Small" Text="" Theme="Glass">                    </dx:ASPxLabel>                   <hr/>                </td>            </tr>           <tr id="PanelSAVE" runat="server" visible="false">                        <td style="width:208px"></td>                        <td style="width:212px">                            &nbsp;<dx:ASPxButton ID="btnPost" runat="server" Text="Post Payments" Theme="Glass">                            </dx:ASPxButton>                        </td>                </tr>        </table>       </asp:Panel></asp:Content>